import { faker } from '@faker-js/faker';
import { eventHandler } from 'h3';
import { verifyAccessToken, compareVersion } from '~/utils/jwt-utils';
import { unAuthorizedResponse, useResponseSuccess } from '~/utils/response';

let datalist = [
  {
    id: 'a4fed3fb-137c-4e93-99f2-1595ca3e6209',
    pid: null,
    label: '变更行为',
    value: null,
    type: 'CHANGE_BEHAVIOR',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6241503a-70a1-4142-8e6b-925f09ad0d9e',
    pid: 'a4fed3fb-137c-4e93-99f2-1595ca3e6209',
    label: '创建',
    value: 0,
    type: 'CHANGE_BEHAVIOR',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '569d779d-e0e2-4a77-9e7b-f78eeeee6faf',
    pid: 'a4fed3fb-137c-4e93-99f2-1595ca3e6209',
    label: '修改',
    value: 10,
    type: 'CHANGE_BEHAVIOR',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '16c9607b-da67-4e08-8251-1b5c2828ccf4',
    pid: 'a4fed3fb-137c-4e93-99f2-1595ca3e6209',
    label: '评论',
    value: 20,
    type: 'CHANGE_BEHAVIOR',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '14aa690b-ba87-46ee-89ac-a7158f964a42',
    pid: 'a4fed3fb-137c-4e93-99f2-1595ca3e6209',
    label: '流转',
    value: 30,
    type: 'CHANGE_BEHAVIOR',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'cbe5a248-f1dd-4d69-af54-72c1937f4645',
    pid: null,
    label: '变更类型',
    value: null,
    type: 'CHANGE_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'ff1af3d3-9b5a-4774-a484-890b9b0e28a3',
    pid: 'cbe5a248-f1dd-4d69-af54-72c1937f4645',
    label: '需求',
    value: 0,
    type: 'CHANGE_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '30cf88b1-ea14-4fdb-bbdb-dafb9f55516c',
    pid: 'cbe5a248-f1dd-4d69-af54-72c1937f4645',
    label: '任务',
    value: 10,
    type: 'CHANGE_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '79fc7fdd-32d1-4041-991d-925fc091eefb',
    pid: 'cbe5a248-f1dd-4d69-af54-72c1937f4645',
    label: '缺陷',
    value: 20,
    type: 'CHANGE_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9056057f-76d4-43b2-8e16-02fd60014f09',
    pid: 'cbe5a248-f1dd-4d69-af54-72c1937f4645',
    label: '版本',
    value: 30,
    type: 'CHANGE_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    pid: null,
    label: '需求状态',
    value: null,
    type: 'STORY_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '5cc5ddd8-7f8c-49d3-b11a-27e5c6317ba7',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '待评审',
    value: 0,
    type: 'STORY_STATUS',
    remark: '已规划出需求,未评审',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '57eda877-150e-4aed-8d26-84143d08d03d',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '开发中',
    value: 10,
    type: 'STORY_STATUS',
    remark: '已加入迭代,开发中',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'c3083741-d948-48d5-9cc1-dc01066b0f03',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '测试中',
    value: 20,
    type: 'STORY_STATUS',
    remark: '开发完成,测试中',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'c589f52c-9223-4cba-a4a6-8568364ec5fc',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '产品验收中',
    value: 30,
    type: 'STORY_STATUS',
    remark: '测试完毕,产品验收中',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '5c955796-61cb-4d5d-a624-9ea8049208b3',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '业务验收中',
    value: 31,
    type: 'STORY_STATUS',
    remark: '产品验收完成,业务验收中',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '61b98992-5c44-421f-b798-d6e270e2a6bb',
    pid: '9fa01145-c610-4fe2-a524-0e1a763d594a',
    label: '已关闭',
    value: 99,
    type: 'STORY_STATUS',
    remark: '需求关闭',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '670b3e4b-408b-407f-a545-a3cb930a4c52',
    pid: null,
    label: '需求来源',
    value: null,
    type: 'STORY_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '489eb64f-7bb7-4c28-a3bc-65536d656576',
    pid: '670b3e4b-408b-407f-a545-a3cb930a4c52',
    label: '产品规划',
    value: 0,
    type: 'STORY_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '7e15143d-12b1-4096-beb9-e9cd5d131d20',
    pid: '670b3e4b-408b-407f-a545-a3cb930a4c52',
    label: '业务反馈',
    value: 10,
    type: 'STORY_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a4b1e224-89ff-4b42-b136-4b742cc199ca',
    pid: null,
    label: '需求等级',
    value: null,
    type: 'STORY_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '50d8f6da-77af-4f87-82fd-f525fb3862e4',
    pid: 'a4b1e224-89ff-4b42-b136-4b742cc199ca',
    label: '低',
    value: 0,
    type: 'STORY_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '66a23c7e-1702-416f-9c95-5ae5f4b974fe',
    pid: 'a4b1e224-89ff-4b42-b136-4b742cc199ca',
    label: '中',
    value: 10,
    type: 'STORY_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '2a9b7655-6c1d-43c4-96d1-a8b6f24cf7fa',
    pid: 'a4b1e224-89ff-4b42-b136-4b742cc199ca',
    label: '高',
    value: 20,
    type: 'STORY_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    pid: null,
    label: '需求类型',
    value: null,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6871ade0-4289-4d0f-9146-6755c56fb9c5',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '新功能',
    value: 0,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '713317ea-f394-4d5e-804b-20792e8c8570',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '功能优化',
    value: 10,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '7f071399-8762-492c-93b1-71c4ae437bd3',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: 'Bug修复',
    value: 20,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'f6c75f08-d2e6-4271-b9c9-10a29e5ea035',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '技术债务',
    value: 30,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '472d075f-5ab9-4abc-8266-2361d53a7ece',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: 'UI/UX改进',
    value: 40,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'ea54b859-1cf5-45ed-94d2-bfd7ebdff3d8',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '性能优化',
    value: 50,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '13434496-f26d-4e22-acf6-2af1d934ccca',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '安全相关',
    value: 60,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '65554918-0910-42c6-b08a-8ce822f8646f',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '合规性需求',
    value: 70,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '78aba2c7-728f-4d2d-b1e8-3572de909ffc',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '运维需求',
    value: 80,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9c7c1c4c-efbb-46d6-bbe4-4284089e597c',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '技术调研',
    value: 90,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '07b3a8c7-1f3a-4423-bed8-705f94488987',
    pid: 'eadd47c2-3b4b-4702-98f8-d643dd73acb0',
    label: '文档编写',
    value: 100,
    type: 'STORY_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    pid: null,
    label: '任务类型',
    value: null,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '3bd5f01a-9861-4955-b3f5-edec9f6952e4',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '开发任务',
    value: 0,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'cf26d7d6-7ffd-4ef4-a6dd-fb4c900a40e1',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '测试任务',
    value: 10,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'b9381e66-4282-4e7e-b6eb-470e4433b6be',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: 'UI设计',
    value: 20,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '0bd5c31a-0718-42f2-9b19-1ec18d04ea7e',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '规划任务',
    value: 30,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'd6383ff6-8765-4029-8642-2a2043af6576',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: 'Bug修复',
    value: 40,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'd3f4308d-31d0-46cd-a773-bfc7b4ad2060',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '代码审查',
    value: 50,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '47acfd74-8a6d-48ee-b02d-a9618392ec73',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '部署发布',
    value: 60,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '675b43b5-235d-4c18-9d89-904a9b9f2c52',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '文档编写',
    value: 70,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '204b7cf8-2544-4b16-b88f-502112a5a573',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '会议相关',
    value: 80,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '2374f82e-d9c1-4736-b899-05120729a7ff',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '请假调休',
    value: 90,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '90f0eef9-cf07-43f2-a036-f2cede608ae1',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '代码重构',
    value: 100,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8dc6d48a-ddcf-4895-924e-3fd21cbd4929',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '数据迁移',
    value: 110,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'd11acb53-8baa-48a4-8c71-62a6152ac3ee',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '性能优化',
    value: 120,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a72d394d-fad0-424c-a7a7-f40eeb77a013',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '安全加固',
    value: 130,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a5523dba-6a98-4766-a4f1-da28642df16b',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '技术支持',
    value: 140,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '591089b5-0244-4f4e-8849-2390bf453870',
    pid: '60d6e9c9-b70a-4c50-8066-53e91961b089',
    label: '培训学习',
    value: 150,
    type: 'TASK_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a6d9bc9e-4293-41f7-aaea-c1066d639753',
    pid: null,
    label: '任务状态',
    value: null,
    type: 'TASK_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'bca77016-d367-4ebf-882f-32f46bd9cd85',
    pid: 'a6d9bc9e-4293-41f7-aaea-c1066d639753',
    label: '待执行',
    value: 0,
    type: 'TASK_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '1d1a4a82-dd07-48d7-96f1-d3bd6bf5bfde',
    pid: 'a6d9bc9e-4293-41f7-aaea-c1066d639753',
    label: '执行中',
    value: 10,
    type: 'TASK_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a98ccf8c-4e39-4eda-a1cd-1de5db2501df',
    pid: 'a6d9bc9e-4293-41f7-aaea-c1066d639753',
    label: '已完成',
    value: 99,
    type: 'TASK_STATUS',
    remark: null,
    color: 'success',
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6fe23377-a3da-4a44-b1d4-cdea5ce213da',
    pid: null,
    label: 'BUG级别',
    value: null,
    type: 'BUG_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'a053c1c2-1433-4038-a723-e9012f8c2478',
    pid: '6fe23377-a3da-4a44-b1d4-cdea5ce213da',
    label: 'P0-低优先级',
    value: 0,
    type: 'BUG_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '11a70554-4240-4bc9-8bef-958e384427f4',
    pid: '6fe23377-a3da-4a44-b1d4-cdea5ce213da',
    label: 'P1-中优先级',
    value: 10,
    type: 'BUG_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'e5471111-9f77-4743-bb7a-a58f6c2f037f',
    pid: '6fe23377-a3da-4a44-b1d4-cdea5ce213da',
    label: 'P2-高优先级',
    value: 20,
    type: 'BUG_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '12ae3ee4-4fd9-469b-b575-7b69684bb6ac',
    pid: '6fe23377-a3da-4a44-b1d4-cdea5ce213da',
    label: 'P3-紧急致命',
    value: 30,
    type: 'BUG_LEVEL',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9de439d6-7f16-4b9a-befb-fb93b54e7631',
    pid: null,
    label: 'BUG环境',
    value: null,
    type: 'BUG_ENV',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '20d03f74-b307-4073-b9e9-e4b828e223e5',
    pid: '9de439d6-7f16-4b9a-befb-fb93b54e7631',
    label: '测试环境',
    value: 0,
    type: 'BUG_ENV',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '01815147-9e2a-4b08-9d7a-1b3ff0463ed5',
    pid: '9de439d6-7f16-4b9a-befb-fb93b54e7631',
    label: '预生产环境',
    value: 10,
    type: 'BUG_ENV',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'c860a752-0654-44d1-bd75-10015e6a1ffe',
    pid: '9de439d6-7f16-4b9a-befb-fb93b54e7631',
    label: '生产环境',
    value: 20,
    type: 'BUG_ENV',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    pid: null,
    label: 'BUG来源',
    value: null,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '05a3a0fb-e0b2-4e94-bed1-4186bc2280e0',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '内部测试',
    value: 0,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '031fb8d2-a411-45bd-8951-2c8a0d599fd8',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '用户反馈',
    value: 10,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '1bea854b-df63-4d72-9361-84f5c59323ca',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '监控系统',
    value: 20,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9f0fc11a-bea4-4ad6-af19-d74726f530f3',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '代码审查',
    value: 30,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6d83e313-d781-4f5c-a5e2-53eee45169f5',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '自动化测试',
    value: 40,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'c8b5d222-f123-4e9b-804d-309d5b768382',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '线上事故',
    value: 50,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '03d16547-4a76-4400-ada6-d1f1ea9d53b6',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '第三方依赖',
    value: 60,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'c91724d8-2df1-4440-b153-16b830e015c0',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '遗留系统',
    value: 70,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8ae5161c-0386-4603-b5a2-e41f1ea051cc',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '回归问题',
    value: 80,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'cd57f02b-f52e-4fa3-988e-734a5bfee31a',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '性能测试',
    value: 90,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '2de6de01-651e-44b2-a0a7-3a0b7758fdd3',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '安全扫描',
    value: 100,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '086b7213-69be-4ee9-8a68-dc85982bac1e',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: 'UI/UX走查',
    value: 110,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '453b4f42-0eea-43f5-bdd2-968531c25be8',
    pid: '12ca20e0-5886-4852-a1ea-4ee8bf9cf8fa',
    label: '兼容性测试',
    value: 120,
    type: 'BUG_SOURCE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    pid: null,
    label: 'BUG类型',
    value: null,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '5fa1a206-2ed1-42d1-a606-993d5b64849b',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '功能缺陷',
    value: 0,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'd852f6bf-2af6-4ec6-9c8c-5ccfba5026b3',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '逻辑缺陷',
    value: 10,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'ebf0d393-4641-4d4b-ab37-99fab811fdd1',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '数据问题',
    value: 20,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'cc2d8409-0229-44da-8105-7aa3fb6d8f4f',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '界面问题',
    value: 30,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6a7db8c9-6fa7-4009-bb70-daa881809a4b',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '性能问题',
    value: 40,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '9ec1a49f-6a4e-401d-9b99-ac9129ac92aa',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '安全问题',
    value: 50,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8781cecd-52c7-4953-afca-3cd0e3698c73',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '兼容性问题',
    value: 60,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '440cb85b-ca48-43a5-8ee5-8342e6ac3653',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '文档问题',
    value: 70,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '54e9b993-8d0a-4896-bc10-0b85545c44a2',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '配置问题',
    value: 80,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8fb213a2-2942-471d-88ee-40a446cde0b6',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '部署问题',
    value: 90,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '517865cd-27d1-4f06-a79d-60c84b21020c',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '改进建议',
    value: 100,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '6d8c02c1-aceb-40bd-8659-40b5d6c21e4a',
    pid: '8ec2bcc7-5e92-4480-85bf-85fd267f6061',
    label: '回归问题',
    value: 110,
    type: 'BUG_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    pid: null,
    label: 'BUG状态',
    value: null,
    type: 'BUG_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '577ba36e-f89c-4018-97e0-9925041445b3',
    pid: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    label: '待确认',
    value: 0,
    type: 'BUG_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8e7aad71-4cf2-4672-8f71-7d3fb4c2bc8a',
    pid: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    label: '不予处理',
    value: 10,
    type: 'BUG_STATUS',
    remark: '要备注原因：比如：重复、非BUG、配置问题、无法重现 等等...',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '3e7edaf9-182c-4ec6-b6d9-69561b09a1bb',
    pid: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    label: '待修复',
    value: 20,
    type: 'BUG_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '45132f66-8cc9-4c58-bf20-d1001e57fe5e',
    pid: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    label: '已修复',
    value: 30,
    type: 'BUG_STATUS',
    remark: '发布到测试环境后在流转',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '194cfe13-0a7e-45c2-a047-3b794ecd2fc4',
    pid: '7ad93838-c3b9-4298-b313-b13d8d12db91',
    label: '已关闭',
    value: 99,
    type: 'BUG_STATUS',
    remark: '要备注原因：比如：确认已修复',
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    pid: null,
    label: '版本发布状态',
    value: null,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'fbbdfc89-ec02-4233-a32e-ae0739647f10',
    pid: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    label: '待评审',
    value: 0,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '0ef1fd94-0ead-4230-a89f-452b1b6a282f',
    pid: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    label: '待开发',
    value: 10,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '8f7a133e-2348-4baa-acb2-3d39b3d6ec39',
    pid: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    label: '开发中',
    value: 20,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '666761a2-7e81-495b-b642-db50df4a0ba0',
    pid: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    label: '已发版uat',
    value: 30,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: 'cfe27969-a9c5-4923-addf-b3ede774884d',
    pid: 'be0e3fa5-d405-4292-bc9f-cb1652dbe91a',
    label: '已发版master',
    value: 40,
    type: 'RELEASE_STATUS',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '30747bd1-46e6-4c7e-a6ed-60046662b354',
    pid: null,
    label: '更新类型',
    value: null,
    type: 'VERSION_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '3c1698c1-c951-4c7c-a6e7-34f0d0c21d9b',
    pid: '30747bd1-46e6-4c7e-a6ed-60046662b354',
    label: '主版本号',
    value: 0,
    type: 'VERSION_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '02c1b969-8b9e-4d56-9975-7bb2bd6c61e7',
    pid: '30747bd1-46e6-4c7e-a6ed-60046662b354',
    label: '次版本号',
    value: 10,
    type: 'VERSION_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
  {
    id: '575cbfc2-64ad-4e96-8c2e-c185869cc676',
    pid: '30747bd1-46e6-4c7e-a6ed-60046662b354',
    label: '修订补丁',
    value: 20,
    type: 'VERSION_TYPE',
    remark: null,
    color: null,
    disabled: 0,
    createDate: '2026/01/30 01:39:20',
    updateDate: '2026/01/30 01:39:20',
  },
];

function generateMockDataList() {
  let list: any[] = datalist.filter((item) => item.pid === null);
  list.forEach((item) => {
    item.children = datalist.filter((child) => child.pid === item.id);
  });

  return list;
}

export const mockDictData = generateMockDataList();

export default eventHandler(async (event) => {
  const userinfo = verifyAccessToken(event);
  if (!userinfo) {
    return unAuthorizedResponse(event);
  }

  const { page = 1, pageSize = 20, type, value } = getQuery(event);

  let listData = structuredClone(mockDictData);
  if (type) {
    listData = listData.filter((item) => item.type === type);
  }
  if (value) {
    listData = listData.filter((item) => item.value === value);
  }
  /* 分页响应 */
  return usePageResponseSuccess(page as string, pageSize as string, listData);

  /* 全量响应 */
  // return useResponseSuccess(listData);
});
